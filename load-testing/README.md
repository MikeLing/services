# load-testing

A command line utility for testing Skycoin blockchain speed.

## usage

1. Send an amount greater than or equal to 1 SKY to an address that you know the seed of.
2. Run the tool - see below.

To stop the program, just press Ctrl+C for a graceful shutdown.

```
Usage of ./load-testing:
  -cleanup
        on test completion, send all coins to first address generated by seed
  -log_file string
        filepath where logs will be saved
  -log_sum
        show test summary (default true)
  -log_txs
        show transaction logs (default true)
  -n int
        number of addresses to generate from the seed (default 10)
  -node string
        node to connect to (default "localhost:6430")
  -seed string
        seed used to generate skycoin addresses
  -wait int
        time in seconds to wait between transactions (default 5)
```

### `-cleanup`

If the `-cleanup` flag is present, the program will send all coins to the first address generated by the seed when SIGINT is received (Ctrl+C).

### `-log_file string`

The `-log-file` flag gives the filename to save logs to. If it's not present then logs will just print to STDOUT.

### `-log_sum`

If the `-log_sum` flag is present, the program will output a summary of all transactions when SIGINT is received (Ctrl+C).

### `-log_txs`

If the `log_txs` flag is present, the program will output information about each transaction executed.

### `-n int`

The `-n` flag describes how many addresses to generate from the seed.

### `-node string`

The `-node` flag describes where the Skycoin node is listening for RPC connections. Default is `localhost:6430`.

### `-seed string`

The `-seed` flag describes the seed to use when generating addresses.

### `-wait int`

The `-wait` flag describes the time (in seconds) to wait in between each transaction.

## example

```
$ ./load-testing -seed "secret seed" -log_file out.txt -wait 5 -cleanup
```

This will create an output in STDOUT and out.txt that looks similar to this:

```
SPLIT:
- From:     MBEdZD3V9UMUFaSTLRW1APdJ6WUUqU17Mm
- To:       2VJpidm3RNsphyLEruFpBFSDwtUMeJbxAEp	(5.00SKY)
            3ZQhhQxpyZ8v1yWLr7oSZ9dNz1NiqDxhFe	(5.00SKY)
- Start:    2018-02-05 14:24:48.518493 -0500 EST m=+0.503041554
- End:      2018-02-05 14:24:57.761202 -0500 EST m=+9.745611860
- Duration: 9.242570306s

MERGE:
- From:     2VJpidm3RNsphyLEruFpBFSDwtUMeJbxAEp
            3ZQhhQxpyZ8v1yWLr7oSZ9dNz1NiqDxhFe
- To:       kFJAR4zwHvf9hRUL76MD1dUPEU1hfE5Mw2	(10.00SKY)
- Start:    2018-02-05 14:24:58.984024 -0500 EST m=+10.968415738
- End:      2018-02-05 14:25:07.730405 -0500 EST m=+19.714665216
- Duration: 8.746249478s

SPLIT:
- From:     kFJAR4zwHvf9hRUL76MD1dUPEU1hfE5Mw2
- To:       2dvVgeKNU7UHdvvBUVZXbBaxoTkpemo1cmg	(5.00SKY)
            MBEdZD3V9UMUFaSTLRW1APdJ6WUUqU17Mm	(5.00SKY)
- Start:    2018-02-05 14:25:08.964146 -0500 EST m=+20.948388223
- End:      2018-02-05 14:25:32.573767 -0500 EST m=+44.557655135
- Duration: 23.609266912s

CLEAN:
- From:     2dvVgeKNU7UHdvvBUVZXbBaxoTkpemo1cmg
            3ZQhhQxpyZ8v1yWLr7oSZ9dNz1NiqDxhFe
            cepArEWAiEgge3J1XW2kzLb4NEqP5JA81g
            8vENogZsADL1aEktfaoYKNPcthfgfwxVMU
            2VJpidm3RNsphyLEruFpBFSDwtUMeJbxAEp
            7W5N3bo7ytSBpDDSsU6sJtBhvLi8CSACa8
            6734kaBd1nGTuHBTGeXsFS7ujjUrGUj37x
            kFJAR4zwHvf9hRUL76MD1dUPEU1hfE5Mw2
            2XiAjpj1rSX9RSxZVuPCAxPHv2zcpAoFYxV
- To:       MBEdZD3V9UMUFaSTLRW1APdJ6WUUqU17Mm	(5.00SKY)
- Start:    2018-02-05 14:25:32.801265 -0500 EST m=+44.785149533
- End:      2018-02-05 14:25:38.122067 -0500 EST m=+50.105872222
- Duration: 5.320722689s

SUMMARY:
- Start:        2018-02-05 14:24:48.30504 -0500 EST m=+0.289592429
- End:          2018-02-05 14:25:32.57386 -0500 EST m=+44.557748393
- Duration:     44.268155964s
- Cleanup:      MBEdZD3V9UMUFaSTLRW1APdJ6WUUqU17Mm
- Transactions: 3
     - Average: 13.866028898s
     - Minimum: 8.746249478s
     - Maximum: 23.609266912s
```